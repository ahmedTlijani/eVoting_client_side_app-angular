
<div class="manage_office_admins__container" >
  <div class="titre__" >

    <label>  Admin Panel > Manage Offices Admins</label>
  </div>
 
 
 <div style="margin-top: 15px;">
  <button mat-button (click)="addOne()" ><mat-icon>perm_identity</mat-icon>Add Manager</button>

  <!-- data table -->

  <div style="margin-left: 18px;margin-right: 18px;">

        <div style="display: flex">
          <div style="width:90%">
              <mat-form-field class="example-form-field" floatLabel="never">
                  <input (keyup)="applyFilter($event.target.value)" matInput type="text" placeholder="Search" [(ngModel)]="searchValue" >
                  <button style="font-size: 20px;" mat-button *ngIf="searchValue" matSuffix mat-icon-button aria-label="Clear" (click)="deleteSearch()">
                    <mat-icon>close</mat-icon>
                  </button>
                </mat-form-field>
          </div>
          <div>
              <button mat-raised-button (click)="reloadDataSet()">Reload Dataset</button>
          </div>
        </div>


      <table mat-table [dataSource]="dataSource" matSort  class="mat-elevation-z8">

          <!--- Note that these columns can be defined in any order.
                The actual rendered columns are set as a property on the row definition" -->
        
          <!-- Id Column -->
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
            <td mat-cell *matCellDef="let element"> {{element.id_responsable}} </td>
          </ng-container>
        
          <!-- Name Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
          </ng-container>

         <!-- Surname Column -->
          <ng-container matColumnDef="surname">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Surname </th>
            <td mat-cell *matCellDef="let element"> {{element.surname}} </td>
         </ng-container>

        <!-- Age Column -->
          <ng-container matColumnDef="date_naissance">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Date naissance </th>
            <td mat-cell *matCellDef="let element"> {{element.date_naissance | date:shortDate }} </td>
          </ng-container>

            <!-- Gender Column -->
            <ng-container matColumnDef="gender">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Gender </th>
                <td mat-cell *matCellDef="let element"> {{element.gender}} </td>
              </ng-container>


        <!-- State Column -->
          <ng-container matColumnDef="state">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> State </th>
            <td mat-cell *matCellDef="let element"> {{element.adresse.state}} </td>
          </ng-container>

           <!-- Province Column -->
           <ng-container matColumnDef="province">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Province </th>
            <td mat-cell *matCellDef="let element"> {{element.adresse.province}} </td>
          </ng-container>

           <!-- Code Column -->
           <ng-container matColumnDef="code_postal">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Postal Code</th>
            <td mat-cell *matCellDef="let element"> {{element.adresse.code_postal}} </td>
          </ng-container>



        <!-- Cin Column -->
          <ng-container matColumnDef="cin">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Cin </th>
            <td mat-cell *matCellDef="let element"> {{element.cin}} </td>
          </ng-container>

          
        <!-- Image Column -->
          <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Image </th>
            <td mat-cell *matCellDef="let element"> 
              <!-- {{element.image}} -->
             <!-- <button  style="color: #fff;background-color: #2b2b2b;" mat-button color="primary" (click)="showImage(element.image)">
                 Show
                </button>-->
                <label  class="labelImgViewer" (click)="showImage(element.image)" >Show</label>

               </td>
          </ng-container>

           <!-- Bureau Column -->
           <ng-container matColumnDef="bureau_id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Office </th>
            <td mat-cell *matCellDef="let element" matTooltipClass="custom-tooltip" matTooltipPosition="before" [matTooltip]="bureau_information" (mouseover)='over(element)'> {{element.bureau.name}} </td>
          </ng-container>

           <!-- Username Column -->
           <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Username </th>
            <td mat-cell *matCellDef="let element"> {{element.username}} </td>
          </ng-container>

           <!-- Password Column -->
           <ng-container matColumnDef="password">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Password </th>
            <td mat-cell *matCellDef="let element"> {{element.password}} </td>
          </ng-container>



          
          <!-- Action Column -->
          <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef > Actions </th>
          <td mat-cell *matCellDef="let element"> 
              <button style="color: #151515;" mat-button  color="primary" (click)="deleteOne(element)">
                <mat-icon  style="color: #d40e0e;">delete_forever</mat-icon>
                Delete
              </button>

              <button  style="color: #151515;" mat-button color="primary" (click)="updateOne(element)">
                  <mat-icon style="color: #2e865a;">update</mat-icon>
                  Update
                </button>

          </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-card *ngIf="isLoading" 
          style="display: flex; justify-content: center; align-items: center">
          <mat-progress-spinner 
            color="primary" 
            mode="indeterminate">
          </mat-progress-spinner>
        </mat-card>


        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>

    </div>

</div>

</div> <!-- container end -->

<notifier-container></notifier-container>
